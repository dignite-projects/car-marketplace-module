<ng-template #loginBtn>
  <a role="button" class="nav-link pointer" (click)="navigateToLogin()">{{
    'AbpAccount::Login' | abpLocalization
    }}</a>
</ng-template>
<div *ngIf="(currentUser$ | async)?.isAuthenticated; else loginBtn" ngbDropdown class="dropdown"
  #currentUserDropdown="ngbDropdown" display="static">
  <a nz-dropdown [nzDropdownMenu]="menu" nzTrigger="click" class="nav-link" href="javascript:void(0)" role="button">
    <small *ngIf="(selectedTenant$ | async)?.name as tenantName"><i>{{ tenantName }}</i>\</small>
    {{ (currentUser$ | async)?.userName }}
    <span nz-icon nzType="caret-down"></span>
  </a>
  <nz-dropdown-menu #menu="nzDropdownMenu">
    <ul nz-menu nzSelectable>
      <ng-container *ngFor="let item of userMenu.items$ | async; trackBy: trackByFn">
        <ng-container *abpVisible="!item.visible || item.visible(item)">
          <li nz-menu-item *abpPermission="item.requiredPolicy" class="menu-item">
            <ng-container *ngIf="item.component; else htmlTemplate" [ngComponentOutlet]="item.component"
              [ngComponentOutletInjector]="item | toInjector"></ng-container>

            <ng-template #htmlTemplate>
              <div *ngIf="item.html; else textTemplate" [innerHTML]="item.html"
                (click)="item.action ? item.action() : null"></div>
            </ng-template>

            <ng-template #textTemplate>
              <a *ngIf="item.textTemplate" (click)="item.action ? item.action() : null" class="dropdown-item pointer">
                <i *ngIf="item.textTemplate.icon" class="me-1 {{ item.textTemplate.icon }}"></i>
                {{ item.textTemplate.text | abpLocalization }}</a>
            </ng-template>
          </li>
        </ng-container>
      </ng-container>
    </ul>
  </nz-dropdown-menu>
</div>